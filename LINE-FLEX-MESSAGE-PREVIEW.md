# 📱 LINE Flex Message 預覽

## 🎨 包裹到店通知（Flex Message 格式）

### 📦 有驗證碼的包裹

```
┌─────────────────────────────────┐
│  📦 包裹已送達門市                │  ← Hero (藍色背景)
│  您有1個包裹已到店，請盡快取件      │
└─────────────────────────────────┘
  
  20251117-804711                    ← 包裹編號（粗體）
  
  收件人        王小明
  取件門市      NPHONE-KHJG
  送達日期      2025/11/17
  
  ┌───────────────────────────────┐
  │ 🔐 取貨驗證碼                  │  ← 驗證碼區塊（灰色背景）
  │                               │
  │         616563                │  ← 驗證碼（超大字體、藍色）
  │                               │
  │ ⚠️ 取件時需出示此驗證碼          │
  └───────────────────────────────┘
  
  ┌───────────────────────────────┐
  │      查看詳細資訊               │  ← 按鈕（藍色）
  └───────────────────────────────┘
  
  ┌───────────────────────────────┐
  │      前往報到                  │  ← 按鈕（灰色）
  └───────────────────────────────┘
  
  請盡快取件，逾期可能退回
```

---

### 💰 有代收金額的包裹

```
┌─────────────────────────────────┐
│  📦 包裹已送達門市                │  ← Hero (藍色背景)
│  您有1個包裹已到店，請盡快取件      │
└─────────────────────────────────┘
  
  20251117-804712                    ← 包裹編號（粗體）
  
  收件人        王小明
  取件門市      NPHONE-KHJG
  送達日期      2025/11/17
  代收金額      NT$ 567              ← 紅色粗體
  
  ┌───────────────────────────────┐
  │      查看詳細資訊               │
  └───────────────────────────────┘
  
  ┌───────────────────────────────┐
  │      前往報到                  │
  └───────────────────────────────┘
  
  請盡快取件，逾期可能退回
```

---

### 📦 一般包裹（無驗證碼、無代收）

```
┌─────────────────────────────────┐
│  📦 包裹已送達門市                │  ← Hero (藍色背景)
│  您有1個包裹已到店，請盡快取件      │
└─────────────────────────────────┘
  
  20251117-804713                    ← 包裹編號（粗體）
  
  收件人        王小明
  取件門市      NPHONE-KHJG
  送達日期      2025/11/17
  
  ┌───────────────────────────────┐
  │      查看詳細資訊               │
  └───────────────────────────────┘
  
  ┌───────────────────────────────┐
  │      前往報到                  │
  └───────────────────────────────┘
  
  請盡快取件，逾期可能退回
```

---

## 🎯 設計特色

### ✅ 統一的視覺風格
- **Hero 區塊**：藍色漸層背景，白色文字
- **Body 區塊**：清晰的資訊層級，易讀性高
- **驗證碼區塊**：灰色背景突顯，超大字體

### ✅ 智能顯示
- **有驗證碼**：顯示驗證碼區塊（灰色底、超大字號）
- **有代收金額**：顯示代收金額（紅色粗體）
- **一般包裹**：簡潔清爽，只顯示必要資訊

### ✅ 互動按鈕
1. **查看詳細資訊**：開啟 LIFF 查詢頁面
2. **前往報到**：開啟 LIFF 自助報到頁面

### ✅ 友善提示
- 底部提示：「請盡快取件，逾期可能退回」
- 驗證碼說明：「⚠️ 取件時需出示此驗證碼」

---

## 🔧 技術規格

### Flex Message 結構

```json
{
  "type": "flex",
  "altText": "📦 您有1個包裹已送達取件門市",
  "contents": {
    "type": "bubble",
    "hero": { /* 藍色標題區 */ },
    "body": { 
      /* 包裹資訊 */
      /* 驗證碼區塊（條件顯示） */
      /* 代收金額（條件顯示） */
    },
    "footer": {
      /* 按鈕區 */
      /* 底部提示 */
    }
  }
}
```

### 顏色配置

| 元素 | 顏色 | 說明 |
|------|------|------|
| Hero 背景 | `#0a84ff` | 主題藍色 |
| 驗證碼背景 | `#f7fafc` | 淡灰色 |
| 驗證碼文字 | `#0a84ff` | 主題藍色 |
| 代收金額 | `#ff3b30` | 警示紅色 |
| 標籤文字 | `#aaaaaa` | 淺灰色 |
| 內容文字 | `#666666` | 深灰色 |

---

## 📱 實際效果

### 在 LINE 中的顯示

1. **列表中**：顯示縮圖預覽
2. **點開後**：完整 Flex Message
3. **分享時**：保持格式，可轉發

### 互動體驗

1. 顧客收到通知 → 點開查看
2. 看到驗證碼 → 記下或截圖
3. 點擊「前往報到」→ 開啟 LIFF 報到
4. 或直接前往門市 → 出示驗證碼取件

---

## 🎨 自訂主題色

在 `config.js` 中修改：

```javascript
LINE: {
  MESSAGING: {
    FLEX_MESSAGE_COLOR: '#0a84ff',  // 改成您的品牌色
  }
}
```

---

## 🧪 測試工具

### LINE Flex Message Simulator
https://developers.line.biz/flex-simulator/

可以在這裡測試和預覽 Flex Message 的實際效果！

---

© 2025 BaiFa.GRP
版本：1.4.0
最後更新：2025/11/17

